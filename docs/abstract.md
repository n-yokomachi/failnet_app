# FailNet - やらかし共有プラットフォーム
「今日やらかした話」を匿名で共有し、やらかしを恥ではなく組織の学びに変えるプラットフォーム
失敗を受け止める、みんなのセーフティネットとして機能し、事業部間・職種間での情報共有を促進する


# 実装フロー

1. Next.jsの初期アプリをAmplify Gen 2で作成
2. Amplify側でのCI/CDをGithubソースで設定
3. デプロイ
4. Webアプリケーション側の作り込み
  1. 上記MVPのうち、AIに関係しない機能を作成
  2. その後AI機能を、単純なBedrock Converse APIを使用する形で実装
5. AIエージェントの作りこみ
6. この時点でMarpによるエレベーターピッチの作成（30分）
7. 余裕があれば追加機能開発
8. 追加機能を含めエレベーターピッチの修正、紹介動画の作成（1時間）

## MVP

### 投稿機能
- 匿名でのやらかし体験投稿
- やらかし記入
- パスコード記入（削除確認用）
- キャンセルボタン -> 投稿をキャンセル、テキストをクリアする
- 投稿ボタン -> 投稿をSubmitして一覧画面へ遷移
- **センシティブ情報検知機能（補足参照）**
  - 投稿ボタン押下時にテキストをAIに送り、個人名、メールアドレス、電話番号等のセンシティブ情報が含まれないかを分析
  - センシティブ情報が含まれる可能性があるとAIから回答があった場合、投稿を中断し、ユーザーに「この部分大丈夫ですか？」の確認メッセージを表示
- **カテゴリ判別機能（補足参照）**
  - 技術系、コミュニケーション系、作業系、判断系等をAIにより自動分類

#### センシティブ情報検知機能
- 開発初期段階は、単純にLLMのAPIを直接実行して、プロンプトで支持をする。
- 開発中期からはAI Agentを構築し、センシティブ情報検知に特化したAgentを呼び出す。

#### カテゴリ判別機能
- **技術系**: コーディング、デプロイ、設定ミス、データ操作
- **コミュニケーション系**: メール、会議、報告、相談
- **作業系**: 資料作成、スケジュール、タスク管理
- **判断系**: 見積もり、優先度、技術選択
- **その他**: 上記に当てはまらないやらかし

### 一覧機能
- ユーザーの投稿を一覧表示できる画面。以下のソート、フィルターが可能
  - 投稿日時順のタイムライン表示
  - リアクション数順のおすすめ表示
  - 特定のカテゴリにフィルターする機能
- リアクション機能。以下のリアクションを誰でも何回でも可能。リアクション数はカウントする
  - 😅 あるある！（共感）
  - 🙏 助かった（学びになった）
  - 😰 ヒヤッとした（同じことしそうだった）
  - 💡 なるほど（気づきがあった）
  - 🤝 お疲れ様（労い）
- 削除機能
  - ユーザーの概念が存在しないので、誰がどの投稿でも削除できる。
  - ただし削除するには、投稿時のパスコードの入力が必要
- URLコピー機能
  - 投稿の詳細画面を開くためのURLをコピーするボタン
  - Slackなどで共有したときにプレビュー表示できるようにしたい
- 画像クリップ機能
  - クリップボードに、投稿のテキスト、リアクション数、カテゴリなどを画像化して保存
  - MiroやCacoo、スクラムボードに張り付けるなど、ユーザーが画像として共有できるようにする

### 詳細モーダル
- 一覧画面上でモーダルを表示し、URLパラメータで指定した投稿IDに紐づく投稿を表示する
- 表示される情報は一覧に表示される内容と変わりなし
- あくまで共有したURLからアクセスすることを想定
- もちろん一覧画面上で選択した投稿を表示することも可能にしたい

### ヘッダ
- FailNetのアイコン・ロゴ
- Github Repoリンク
- ドキュメントの表示ボタン
  - クリックでこのアプリケーションの使い方をモーダル表示する


---

## 余裕があれば実装するもの

## Slack投稿用テンプレート自動生成
  - 「こんなやらかし話、うちのチームでもありそう」
  - 「深掘りして話したい人いる？」
  - 投稿の要約 + リンク付きの定型文を1クリックでコピー
- 匿名性を保ったままチーム内での議論促進

## AI機能追加案
- その日の投稿内容を分析して、タイムラインの一番上とかに分析表示
  - 「今日のやらかし傾向」
  - 「最も多かったカテゴリ」
  - 「最も共感を集めた投稿」

---

## 🎨 UI
- シンプルで分かりやすいデザイン
- ライトモード・ダークモードの切り替え
- ユーザー登録不要

---

## 🛠️ 技術スタック
設計時点では以下の技術スタックを使用する想定。
ただし開発フェーズで最新情報や都合により変更する可能性も高い。
変更があった場合、可能な限りほかのドキュメントやClaude Code、Serenaのメモリに反映すること

### コーディングツール
- Claude Code
  - Claude Sonnet 4 (Max個人契約)
  - MCP
    - Serena
    - PlayWright
    - AWS Document MCP Server
    - CDK MCP Server
- Gemini CLI（検索用。Claude Codeに適宜使わせる）

### フロントエンド
- Next.js
- Tailwind CSS
- shadcn/ui

#### デザインはAtlassianのデザインシステムを使いたい
https://atlassian.design/components

### バックエンド
AWSのリージョンはus-west-2（オレゴン）を使用
AI機能以外の部分について（投稿のCRUDなど）については以下の要素をAmplify Gen2のCDKスタックで定義する
- API Gateway
- AWS Lambda
- DynamoDB

### インフラ・デプロイ
AWSのリージョンはus-west-2（オレゴン）を使用
- AWS Amplify Gen 2
- AWS CDK（Amplify Gen2のバックエンド構成に使用）

### AI機能
AWSのリージョンはus-west-2（オレゴン）を使用
- Amazon Bedrock
  - LLMのホスト、呼び出しに使用。
  - 開発初期はBedrock Converse APIを使用して直接LLMを呼び出して生のプロンプトで指示を出して回答を得る。
  - 使用するLLMはClaude 3.7 Sonnetを想定。
- Mastra
  - エージェントフレームワーク。
  - Next.jsアプリケーションに統合し、AIエージェントを構築するための基盤を提供。

---

# 成果物の提供方法

## プロダクト
Amplifyによるデプロイ、ホスティングで提供

## エレベーターピッチ資料
Marpによるコードで作成
ベースはClaude Codeで生成する

## 紹介動画
Kiteでプロモーションを作成
Macのスクリーンショットで撮影
台本は別途作成
字幕は最低限のキーワードだけを表示するようにiMovie？で編集


---
